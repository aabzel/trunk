Для использования этого компонента в Zephyr следует отключить запрет записи Flash в MPU

https://devzone.nordicsemi.com/f/nordic-q-a/74789/hard-fault-when-using-nvs-with-zephyr-on-nrf52?pifragment-684=2



В процессоре для приложений  1 MB Flash
Начинается Flash память приложения с адреса 0x00000000

За записью Flash отвечает код в файле
C:\projects\code_base_workspace\code_base_firmware\source\nrfx-v2.1.0\drivers\include\nrfx_nvmc.h

NVMC non-volatile memory controller

3.2.2 Flash — Non-volatile memory

Одна страница 4kByte


Flash:0x00000000 Size 1024kByte


Вот список всех секторов Flash памяти

[FLASH] Start 0x0,TotalSize 1048576,PageSize 4096,PageCnt 256,Byte CRC16 0xa18f
[FLASH] number of parts 256 PartSize 4096 byte TotalSize 1048576 byte
+-----+------------+--------+--------+--------+--------+
| No  |   start    |  size  |  busy  | usage  | total  |
+-----+------------+--------+--------+--------+--------+
|   0 | 0x00000000 |   4096 |   4092 |  99.90 |      4 |
|   1 | 0x00001000 |   4096 |   4021 |  98.17 |      8 |
|   2 | 0x00002000 |   4096 |   3978 |  97.12 |     12 |
|   3 | 0x00003000 |   4096 |   3974 |  97.02 |     16 |
|   4 | 0x00004000 |   4096 |   3954 |  96.53 |     20 |
|   5 | 0x00005000 |   4096 |   4051 |  98.90 |     24 |
|   6 | 0x00006000 |   4096 |   3988 |  97.36 |     28 |
|   7 | 0x00007000 |   4096 |   4042 |  98.68 |     32 |
|   8 | 0x00008000 |   4096 |   4072 |  99.41 |     36 |
|   9 | 0x00009000 |   4096 |   4077 |  99.54 |     40 |
|  10 | 0x0000a000 |   4096 |   4033 |  98.46 |     44 |
|  11 | 0x0000b000 |   4096 |   4057 |  99.05 |     48 |
|  12 | 0x0000c000 |   4096 |   4071 |  99.39 |     52 |
|  13 | 0x0000d000 |   4096 |   4041 |  98.66 |     56 |
|  14 | 0x0000e000 |   4096 |   4014 |  98.00 |     60 |
|  15 | 0x0000f000 |   4096 |   4028 |  98.34 |     64 |
|  16 | 0x00010000 |   4096 |   4039 |  98.61 |     68 |
|  17 | 0x00011000 |   4096 |   4038 |  98.58 |     72 |
|  18 | 0x00012000 |   4096 |   4051 |  98.90 |     76 |
|  19 | 0x00013000 |   4096 |   4064 |  99.22 |     80 |
|  20 | 0x00014000 |   4096 |   4066 |  99.27 |     84 |
|  21 | 0x00015000 |   4096 |   4074 |  99.46 |     88 |
|  22 | 0x00016000 |   4096 |   4047 |  98.80 |     92 |
|  23 | 0x00017000 |   4096 |   4042 |  98.68 |     96 |
|  24 | 0x00018000 |   4096 |   4063 |  99.19 |    100 |
|  25 | 0x00019000 |   4096 |   4068 |  99.32 |    104 |
|  26 | 0x0001a000 |   4096 |   4035 |  98.51 |    108 |
|  27 | 0x0001b000 |   4096 |   4030 |  98.39 |    112 |
|  28 | 0x0001c000 |   4096 |   4061 |  99.15 |    116 |
|  29 | 0x0001d000 |   4096 |   4053 |  98.95 |    120 |
|  30 | 0x0001e000 |   4096 |   4037 |  98.56 |    124 |
|  31 | 0x0001f000 |   4096 |   4046 |  98.78 |    128 |
|  32 | 0x00020000 |   4096 |   4054 |  98.97 |    132 |
|  33 | 0x00021000 |   4096 |   4038 |  98.58 |    136 |
|  34 | 0x00022000 |   4096 |   4076 |  99.51 |    140 |
|  35 | 0x00023000 |   4096 |   4065 |  99.24 |    144 |
|  36 | 0x00024000 |   4096 |   4077 |  99.54 |    148 |
|  37 | 0x00025000 |   4096 |   4076 |  99.51 |    152 |
|  38 | 0x00026000 |   4096 |   4068 |  99.32 |    156 |
|  39 | 0x00027000 |   4096 |   4063 |  99.19 |    160 |
|  40 | 0x00028000 |   4096 |   4075 |  99.49 |    164 |
|  41 | 0x00029000 |   4096 |   4066 |  99.27 |    168 |
|  42 | 0x0002a000 |   4096 |   4051 |  98.90 |    172 |
|  43 | 0x0002b000 |   4096 |   4066 |  99.27 |    176 |
|  44 | 0x0002c000 |   4096 |   4079 |  99.58 |    180 |
|  45 | 0x0002d000 |   4096 |   4080 |  99.61 |    184 |
|  46 | 0x0002e000 |   4096 |   4083 |  99.68 |    188 |
|  47 | 0x0002f000 |   4096 |   4084 |  99.71 |    192 |
|  48 | 0x00030000 |   4096 |   4084 |  99.71 |    196 |
|  49 | 0x00031000 |   4096 |   4078 |  99.56 |    200 |
|  50 | 0x00032000 |   4096 |   4080 |  99.61 |    204 |
|  51 | 0x00033000 |   4096 |   4068 |  99.32 |    208 |
|  52 | 0x00034000 |   4096 |   4044 |  98.73 |    212 |
|  53 | 0x00035000 |   4096 |   4061 |  99.15 |    216 |
|  54 | 0x00036000 |   4096 |   4066 |  99.27 |    220 |
|  55 | 0x00037000 |   4096 |   4065 |  99.24 |    224 |
|  56 | 0x00038000 |   4096 |   4062 |  99.17 |    228 |
|  57 | 0x00039000 |   4096 |   4055 |  99.00 |    232 |
|  58 | 0x0003a000 |   4096 |   4040 |  98.63 |    236 |
|  59 | 0x0003b000 |   4096 |   4061 |  99.15 |    240 |
|  60 | 0x0003c000 |   4096 |   4063 |  99.19 |    244 |
|  61 | 0x0003d000 |   4096 |   4041 |  98.66 |    248 |
|  62 | 0x0003e000 |   4096 |   4023 |  98.22 |    252 |
|  63 | 0x0003f000 |   4096 |   4061 |  99.15 |    256 |
|  64 | 0x00040000 |   4096 |   4065 |  99.24 |    260 |
|  65 | 0x00041000 |   4096 |   4072 |  99.41 |    264 |
|  66 | 0x00042000 |   4096 |   4052 |  98.93 |    268 |
|  67 | 0x00043000 |   4096 |   4079 |  99.58 |    272 |
|  68 | 0x00044000 |   4096 |   4028 |  98.34 |    276 |
|  69 | 0x00045000 |   4096 |   4061 |  99.15 |    280 |
|  70 | 0x00046000 |   4096 |   4064 |  99.22 |    284 |
|  71 | 0x00047000 |   4096 |   4072 |  99.41 |    288 |
|  72 | 0x00048000 |   4096 |   4030 |  98.39 |    292 |
|  73 | 0x00049000 |   4096 |   4096 | 100.00 |    296 |
|  74 | 0x0004a000 |   4096 |   4096 | 100.00 |    300 |
|  75 | 0x0004b000 |   4096 |   4096 | 100.00 |    304 |
|  76 | 0x0004c000 |   4096 |   4096 | 100.00 |    308 |
|  77 | 0x0004d000 |   4096 |   4096 | 100.00 |    312 |
|  78 | 0x0004e000 |   4096 |   4096 | 100.00 |    316 |
|  79 | 0x0004f000 |   4096 |   4096 | 100.00 |    320 |
|  80 | 0x00050000 |   4096 |   4096 | 100.00 |    324 |
|  81 | 0x00051000 |   4096 |   4096 | 100.00 |    328 |
|  82 | 0x00052000 |   4096 |   4096 | 100.00 |    332 |
|  83 | 0x00053000 |   4096 |   4096 | 100.00 |    336 |
|  84 | 0x00054000 |   4096 |   4096 | 100.00 |    340 |
|  85 | 0x00055000 |   4096 |   4095 |  99.98 |    344 |
|  86 | 0x00056000 |   4096 |   4072 |  99.41 |    348 |
|  87 | 0x00057000 |   4096 |   4080 |  99.61 |    352 |
|  88 | 0x00058000 |   4096 |   4096 | 100.00 |    356 |
|  89 | 0x00059000 |   4096 |   4088 |  99.80 |    360 |
|  90 | 0x0005a000 |   4096 |   4096 | 100.00 |    364 |
|  91 | 0x0005b000 |   4096 |   4096 | 100.00 |    368 |
|  92 | 0x0005c000 |   4096 |   4088 |  99.80 |    372 |
|  93 | 0x0005d000 |   4096 |   1318 |  32.18 |    376 |
|  94 | 0x0005e000 |   4096 |      0 |   0.00 |    380 |
|  95 | 0x0005f000 |   4096 |      0 |   0.00 |    384 |
|  96 | 0x00060000 |   4096 |      0 |   0.00 |    388 |
|  97 | 0x00061000 |   4096 |      0 |   0.00 |    392 |
|  98 | 0x00062000 |   4096 |      0 |   0.00 |    396 |
|  99 | 0x00063000 |   4096 |      0 |   0.00 |    400 |
| 100 | 0x00064000 |   4096 |      0 |   0.00 |    404 |
| 101 | 0x00065000 |   4096 |      0 |   0.00 |    408 |
| 102 | 0x00066000 |   4096 |      0 |   0.00 |    412 |
| 103 | 0x00067000 |   4096 |      0 |   0.00 |    416 |
| 104 | 0x00068000 |   4096 |      0 |   0.00 |    420 |
| 105 | 0x00069000 |   4096 |      0 |   0.00 |    424 |
| 106 | 0x0006a000 |   4096 |      0 |   0.00 |    428 |
| 107 | 0x0006b000 |   4096 |      0 |   0.00 |    432 |
| 108 | 0x0006c000 |   4096 |      0 |   0.00 |    436 |
| 109 | 0x0006d000 |   4096 |      0 |   0.00 |    440 |
| 110 | 0x0006e000 |   4096 |      0 |   0.00 |    444 |
| 111 | 0x0006f000 |   4096 |      0 |   0.00 |    448 |
| 112 | 0x00070000 |   4096 |      0 |   0.00 |    452 |
| 113 | 0x00071000 |   4096 |      0 |   0.00 |    456 |
| 114 | 0x00072000 |   4096 |      0 |   0.00 |    460 |
| 115 | 0x00073000 |   4096 |      0 |   0.00 |    464 |
| 116 | 0x00074000 |   4096 |      0 |   0.00 |    468 |
| 117 | 0x00075000 |   4096 |      0 |   0.00 |    472 |
| 118 | 0x00076000 |   4096 |      0 |   0.00 |    476 |
| 119 | 0x00077000 |   4096 |      0 |   0.00 |    480 |
| 120 | 0x00078000 |   4096 |      0 |   0.00 |    484 |
| 121 | 0x00079000 |   4096 |      0 |   0.00 |    488 |
| 122 | 0x0007a000 |   4096 |      0 |   0.00 |    492 |
| 123 | 0x0007b000 |   4096 |      0 |   0.00 |    496 |
| 124 | 0x0007c000 |   4096 |      0 |   0.00 |    500 |
| 125 | 0x0007d000 |   4096 |      0 |   0.00 |    504 |
| 126 | 0x0007e000 |   4096 |      0 |   0.00 |    508 |
| 127 | 0x0007f000 |   4096 |      0 |   0.00 |    512 |
| 128 | 0x00080000 |   4096 |      0 |   0.00 |    516 |
| 129 | 0x00081000 |   4096 |      0 |   0.00 |    520 |
| 130 | 0x00082000 |   4096 |      0 |   0.00 |    524 |
| 131 | 0x00083000 |   4096 |      0 |   0.00 |    528 |
| 132 | 0x00084000 |   4096 |      0 |   0.00 |    532 |
| 133 | 0x00085000 |   4096 |      0 |   0.00 |    536 |
| 134 | 0x00086000 |   4096 |      0 |   0.00 |    540 |
| 135 | 0x00087000 |   4096 |      0 |   0.00 |    544 |
| 136 | 0x00088000 |   4096 |      0 |   0.00 |    548 |
| 137 | 0x00089000 |   4096 |      0 |   0.00 |    552 |
| 138 | 0x0008a000 |   4096 |      0 |   0.00 |    556 |
| 139 | 0x0008b000 |   4096 |      0 |   0.00 |    560 |
| 140 | 0x0008c000 |   4096 |      0 |   0.00 |    564 |
| 141 | 0x0008d000 |   4096 |      0 |   0.00 |    568 |
| 142 | 0x0008e000 |   4096 |      0 |   0.00 |    572 |
| 143 | 0x0008f000 |   4096 |      0 |   0.00 |    576 |
| 144 | 0x00090000 |   4096 |      0 |   0.00 |    580 |
| 145 | 0x00091000 |   4096 |      0 |   0.00 |    584 |
| 146 | 0x00092000 |   4096 |      0 |   0.00 |    588 |
| 147 | 0x00093000 |   4096 |      0 |   0.00 |    592 |
| 148 | 0x00094000 |   4096 |      0 |   0.00 |    596 |
| 149 | 0x00095000 |   4096 |      0 |   0.00 |    600 |
| 150 | 0x00096000 |   4096 |      0 |   0.00 |    604 |
| 151 | 0x00097000 |   4096 |      0 |   0.00 |    608 |
| 152 | 0x00098000 |   4096 |      0 |   0.00 |    612 |
| 153 | 0x00099000 |   4096 |      0 |   0.00 |    616 |
| 154 | 0x0009a000 |   4096 |      0 |   0.00 |    620 |
| 155 | 0x0009b000 |   4096 |      0 |   0.00 |    624 |
| 156 | 0x0009c000 |   4096 |      0 |   0.00 |    628 |
| 157 | 0x0009d000 |   4096 |      0 |   0.00 |    632 |
| 158 | 0x0009e000 |   4096 |      0 |   0.00 |    636 |
| 159 | 0x0009f000 |   4096 |      0 |   0.00 |    640 |
| 160 | 0x000a0000 |   4096 |      0 |   0.00 |    644 |
| 161 | 0x000a1000 |   4096 |      0 |   0.00 |    648 |
| 162 | 0x000a2000 |   4096 |      0 |   0.00 |    652 |
| 163 | 0x000a3000 |   4096 |      0 |   0.00 |    656 |
| 164 | 0x000a4000 |   4096 |      0 |   0.00 |    660 |
| 165 | 0x000a5000 |   4096 |      0 |   0.00 |    664 |
| 166 | 0x000a6000 |   4096 |      0 |   0.00 |    668 |
| 167 | 0x000a7000 |   4096 |      0 |   0.00 |    672 |
| 168 | 0x000a8000 |   4096 |      0 |   0.00 |    676 |
| 169 | 0x000a9000 |   4096 |      0 |   0.00 |    680 |
| 170 | 0x000aa000 |   4096 |      0 |   0.00 |    684 |
| 171 | 0x000ab000 |   4096 |      0 |   0.00 |    688 |
| 172 | 0x000ac000 |   4096 |      0 |   0.00 |    692 |
| 173 | 0x000ad000 |   4096 |      0 |   0.00 |    696 |
| 174 | 0x000ae000 |   4096 |      0 |   0.00 |    700 |
| 175 | 0x000af000 |   4096 |      0 |   0.00 |    704 |
| 176 | 0x000b0000 |   4096 |      0 |   0.00 |    708 |
| 177 | 0x000b1000 |   4096 |      0 |   0.00 |    712 |
| 178 | 0x000b2000 |   4096 |      0 |   0.00 |    716 |
| 179 | 0x000b3000 |   4096 |      0 |   0.00 |    720 |
| 180 | 0x000b4000 |   4096 |      0 |   0.00 |    724 |
| 181 | 0x000b5000 |   4096 |      0 |   0.00 |    728 |
| 182 | 0x000b6000 |   4096 |      0 |   0.00 |    732 |
| 183 | 0x000b7000 |   4096 |      0 |   0.00 |    736 |
| 184 | 0x000b8000 |   4096 |      0 |   0.00 |    740 |
| 185 | 0x000b9000 |   4096 |      0 |   0.00 |    744 |
| 186 | 0x000ba000 |   4096 |      0 |   0.00 |    748 |
| 187 | 0x000bb000 |   4096 |      0 |   0.00 |    752 |
| 188 | 0x000bc000 |   4096 |      0 |   0.00 |    756 |
| 189 | 0x000bd000 |   4096 |      0 |   0.00 |    760 |
| 190 | 0x000be000 |   4096 |      0 |   0.00 |    764 |
| 191 | 0x000bf000 |   4096 |      0 |   0.00 |    768 |
| 192 | 0x000c0000 |   4096 |      0 |   0.00 |    772 |
| 193 | 0x000c1000 |   4096 |      0 |   0.00 |    776 |
| 194 | 0x000c2000 |   4096 |      0 |   0.00 |    780 |
| 195 | 0x000c3000 |   4096 |      0 |   0.00 |    784 |
| 196 | 0x000c4000 |   4096 |      0 |   0.00 |    788 |
| 197 | 0x000c5000 |   4096 |      0 |   0.00 |    792 |
| 198 | 0x000c6000 |   4096 |      0 |   0.00 |    796 |
| 199 | 0x000c7000 |   4096 |      0 |   0.00 |    800 |
| 200 | 0x000c8000 |   4096 |      0 |   0.00 |    804 |
| 201 | 0x000c9000 |   4096 |      0 |   0.00 |    808 |
| 202 | 0x000ca000 |   4096 |      0 |   0.00 |    812 |
| 203 | 0x000cb000 |   4096 |      0 |   0.00 |    816 |
| 204 | 0x000cc000 |   4096 |      0 |   0.00 |    820 |
| 205 | 0x000cd000 |   4096 |      0 |   0.00 |    824 |
| 206 | 0x000ce000 |   4096 |      0 |   0.00 |    828 |
| 207 | 0x000cf000 |   4096 |      0 |   0.00 |    832 |
| 208 | 0x000d0000 |   4096 |      0 |   0.00 |    836 |
| 209 | 0x000d1000 |   4096 |      0 |   0.00 |    840 |
| 210 | 0x000d2000 |   4096 |      0 |   0.00 |    844 |
| 211 | 0x000d3000 |   4096 |      0 |   0.00 |    848 |
| 212 | 0x000d4000 |   4096 |      0 |   0.00 |    852 |
| 213 | 0x000d5000 |   4096 |      0 |   0.00 |    856 |
| 214 | 0x000d6000 |   4096 |      0 |   0.00 |    860 |
| 215 | 0x000d7000 |   4096 |      0 |   0.00 |    864 |
| 216 | 0x000d8000 |   4096 |      0 |   0.00 |    868 |
| 217 | 0x000d9000 |   4096 |      0 |   0.00 |    872 |
| 218 | 0x000da000 |   4096 |      0 |   0.00 |    876 |
| 219 | 0x000db000 |   4096 |      0 |   0.00 |    880 |
| 220 | 0x000dc000 |   4096 |      0 |   0.00 |    884 |
| 221 | 0x000dd000 |   4096 |      0 |   0.00 |    888 |
| 222 | 0x000de000 |   4096 |      0 |   0.00 |    892 |
| 223 | 0x000df000 |   4096 |      0 |   0.00 |    896 |
| 224 | 0x000e0000 |   4096 |      0 |   0.00 |    900 |
| 225 | 0x000e1000 |   4096 |      0 |   0.00 |    904 |
| 226 | 0x000e2000 |   4096 |      0 |   0.00 |    908 |
| 227 | 0x000e3000 |   4096 |      0 |   0.00 |    912 |
| 228 | 0x000e4000 |   4096 |      0 |   0.00 |    916 |
| 229 | 0x000e5000 |   4096 |      0 |   0.00 |    920 |
| 230 | 0x000e6000 |   4096 |      0 |   0.00 |    924 |
| 231 | 0x000e7000 |   4096 |      0 |   0.00 |    928 |
| 232 | 0x000e8000 |   4096 |      0 |   0.00 |    932 |
| 233 | 0x000e9000 |   4096 |      0 |   0.00 |    936 |
| 234 | 0x000ea000 |   4096 |      0 |   0.00 |    940 |
| 235 | 0x000eb000 |   4096 |      0 |   0.00 |    944 |
| 236 | 0x000ec000 |   4096 |      0 |   0.00 |    948 |
| 237 | 0x000ed000 |   4096 |      0 |   0.00 |    952 |
| 238 | 0x000ee000 |   4096 |      0 |   0.00 |    956 |
| 239 | 0x000ef000 |   4096 |      0 |   0.00 |    960 |
| 240 | 0x000f0000 |   4096 |      0 |   0.00 |    964 |
| 241 | 0x000f1000 |   4096 |      0 |   0.00 |    968 |
| 242 | 0x000f2000 |   4096 |      0 |   0.00 |    972 |
| 243 | 0x000f3000 |   4096 |      0 |   0.00 |    976 |
| 244 | 0x000f4000 |   4096 |      0 |   0.00 |    980 |
| 245 | 0x000f5000 |   4096 |      0 |   0.00 |    984 |
| 246 | 0x000f6000 |   4096 |      0 |   0.00 |    988 |
| 247 | 0x000f7000 |   4096 |      0 |   0.00 |    992 |
| 248 | 0x000f8000 |   4096 |      0 |   0.00 |    996 |
| 249 | 0x000f9000 |   4096 |      0 |   0.00 |   1000 |
| 250 | 0x000fa000 |   4096 |      0 |   0.00 |   1004 |
| 251 | 0x000fb000 |   4096 |      0 |   0.00 |   1008 |
| 252 | 0x000fc000 |   4096 |      0 |   0.00 |   1012 |
| 253 | 0x000fd000 |   4096 |      0 |   0.00 |   1016 |
| 254 | 0x000fe000 |   4096 |      0 |   0.00 |   1020 |
| 255 | 0x000ff000 |   4096 |      0 |   0.00 |   1024 |
+-----+------------+--------+--------+--------+--------+



fr 0 102
fr 0x000ff000 102