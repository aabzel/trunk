message(STATUS "LOG_MK_INC=${LOG_MK_INC}")
if( NOT (LOG_MK_INC STREQUAL Y))
    set(LOG_MK_INC Y)
    message(STATUS "+ Log")

    set(LOG_DIR ${CONNECTIVITY_DIR}/log)
    message(STATUS "LOG_DIR=${LOG_DIR}")

    #add_compile_definitions(HAS_LOG)
    target_compile_definitions(app PUBLIC HAS_LOG)
    include_directories(${LOG_DIR})
    target_include_directories(app PUBLIC ${LOG_DIR})
    target_sources(app PRIVATE ${LOG_DIR}/log.c)

    if (TABLE_UTILS STREQUAL Y)
        target_compile_definitions(app PUBLIC HAS_TABLE_UTILS)
        target_sources(app PRIVATE ${LOG_DIR}/table_utils.c)
    endif()

    if (LOG_TIME_STAMP STREQUAL Y)
        message(STATUS "+ LOG_TIME_STAMP")
        target_compile_definitions(app PUBLIC HAS_LOG_TIME_STAMP)
    endif()

    if (LOG_UTILS STREQUAL Y)
        message(STATUS "+ LOG_UTILS")
        target_compile_definitions(app PUBLIC HAS_LOG_UTILS)
    endif()

    if (LOG_COLOR STREQUAL Y)
        message(STATUS "+ LOG_COLOR")
        target_compile_definitions(app PUBLIC HAS_LOG_COLOR)
    endif()

    if (STREAM STREQUAL Y)
        message(STATUS "+ STREAM")
        target_compile_definitions(app PUBLIC HAS_STREAM)
        include(${LOG_DIR}/log_utils/log_utils.cmake)
    endif()

    if (LOG_DIAG STREQUAL Y)
        message(STATUS "+ LOG_DIAG")
        target_compile_definitions(app PUBLIC HAS_LOG_DIAG)
        target_sources(app PRIVATE ${LOG_DIR}/log_diag.c)
    endif()

    if (CLI STREQUAL Y)
        if (LOG_COMMANDS STREQUAL Y)
             message(STATUS "+ LOG_COMMANDS")
             target_compile_definitions(app PUBLIC HAS_LOG_COMMANDS)
             target_sources(app PRIVATE ${LOG_DIR}/log_commands.c)
        endif()
    endif()
endif()
